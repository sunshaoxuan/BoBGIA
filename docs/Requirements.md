# 跨平台地图路线规划助手需求文档

## 1. 项目概述

- **项目名称**：跨平台地图路线规划助手
- **项目目标**：
  - 实现一个能够运行在手机（iOS/Android）、Windows及MacOS等多平台的应用。
  - 通过调用 Google 地图 API 及 AI OpenAPI（如 Gemini、Grok、OpenAI）提供地址查找、标准化、地图标记与路线规划功能。

## 2. 主要功能

1. **地址标准化与单点标记**
   - 用户输入任意格式的真实地址（可能使用多种语言）。
   - 应用利用 AI 接口（例如 Gemini）对地址进行解析、标准化，并进行地址整理。
   - 在嵌入式 Google 地图上标记该地址的位置。

2. **多地址选择与标记**
   - 从一个已标准化的地址列表中挑选出多个地址。
   - 同时在嵌入式 Google 地图上将这些地址标记出来。
   - 根据设备当前所在的位置，与选中地址计算最优驾驶路线，并在地图上显示该路线及生成详细的路线图清单。

3. **动态路线调整**
   - 允许用户点击地图上的中途点调整到达序列。
   - 每次调整后，重新调用路线规划生成新的最佳路径。
   - 支持经过不停车的中途点，让用户对路线进行人工干预调整规划。

4. **AI OpenAPI 接口调用**
   - 当地址与地图处理相关时，可调用 Gemini 等 AI 接口。
   - 若需要动态整理或其他逻辑处理，可调用 Grok 或 OpenAI 接口，实现更加灵活的业务交互。

## 3. 非功能需求

- **跨平台性**：
  - 应用必须支持手机平台（iOS、Android）以及桌面平台（Windows、macOS）。
  - 开发语言与框架需要满足跨平台要求，保证 UI 和业务逻辑的一致性。

- **性能要求**：
  - 地图加载及路线规划要求响应迅速，尽可能减少等待时间。
  - 合理的缓存机制及错误处理，确保在网络状况不佳时仍能给用户友好的反馈。

- **扩展性与维护性**：
  - 模块化设计，便于后续增加新功能（例如添加更多的地图展示方式或路线算法优化）。
  - 清晰的业务逻辑划分，采用设计模式（如 MVC 或 MVVM）进行代码组织。 